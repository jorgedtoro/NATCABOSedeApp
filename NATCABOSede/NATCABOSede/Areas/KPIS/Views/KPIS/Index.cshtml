@model NATCABOSede.ViewModels.DatosKpiViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "KPIs Dashboard";
}

<div class="container mt-5">
    <h1 class="text-center mb-4" id="titulo-dashboard">Línea @ViewBag.LineaSeleccionada - KPIs Dashboard</h1>

    <div class="mb-3">
        <label for="lineaSeleccionada" class="form-label">Selecciona una Línea:</label>
        <select id="lineaSeleccionada" name="lineaSeleccionada" class="form-select">
            <option value="1" @(ViewBag.LineaSeleccionada == 1 ? "selected" : "")>Línea 1</option>
            <option value="2" @(ViewBag.LineaSeleccionada == 2 ? "selected" : "")>Línea 2</option>
            <option value="3" @(ViewBag.LineaSeleccionada == 3 ? "selected" : "")>Línea 3</option>
            <option value="4" @(ViewBag.LineaSeleccionada == 4 ? "selected" : "")>Línea 4</option>
        </select>
    </div>

    <div id="contenido-dashboard">
        <!-- Aquí se renderizará el contenido actualizado -->
        @await Html.PartialAsync("_KPIsPartial", Model)
    </div>
</div>

@section Scripts {
    <script>
        window.appSettings = {
            obtenerDatosUrlAction: '@Url.Action("ObtenerKPIs", "KPIS", new { area = "KPIS" })'
        };
    </script>
    <script src="~/js/KPIS.js"></script>
}
